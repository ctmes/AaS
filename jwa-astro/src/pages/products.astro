---
import { getProducts } from '../lib/statamic';
const products = await getProducts();
---

<html>
  <head>
    <title>JWA Products - Demo</title>
    <style>
      body { 
        font-family: system-ui; 
        max-width: 1200px; 
        margin: 0 auto; 
        padding: 40px 20px;
        background: #f5f5f5;
      }
      h1 { color: #333; margin-bottom: 30px; }
      .products {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
      }
      .product {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .product:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      }
      .product h2 { color: #0066cc; margin: 0 0 10px 0; }
      .product p { color: #666; line-height: 1.6; }
    </style>
  </head>
  <body>
    <h1>JWA Composite Matting Products</h1>
    <div class="products">
    <div class="products">
      {products && products.length > 0 ? (
        products.map((product: any) => (
        <a href={`/products/${product.slug}`} style="text-decoration: none; color: inherit;">
          <div class="product">
            <h2>{product.title}</h2>
            <p>{product.description || 'High-quality composite matting solution'}</p>
          </div>
        </a>
      ))
      ) : (
        <p>No products found or failed to load.</p>
      )}
    </div>
    </div>
  </body>
</html>
